<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Character Selection</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #111;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      font-family: Arial, sans-serif;
    }

    .slider-container {
      width: 100%;
      max-width: 500px;
      perspective: 1200px; /* enables 3D depth */
      overflow: hidden;
      position: relative;
    }

    .slider {
      display: flex;
      gap: 50px;
      transform-style: preserve-3d;
      transition: transform 0.6s ease-in-out;
      touch-action: pan-y;
    }

    .character {
      min-width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      transform: scale(0.8);
      opacity: 0.5;
      transition: transform 0.6s ease, opacity 0.6s ease;
    }

    .character.active {
      transform: scale(1) rotateY(0deg);
      opacity: 1;
    }

    .character img {
      width: 350px;
      height: auto;
      pointer-events: none;
      user-select: none;
    }

    .indicator {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 8px;
    }

    .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: gray;
      transition: 0.3s;
    }

    .dot.active {
      background: white;
      transform: scale(1.3);
    }
  </style>
</head>
<body>
  <div class="slider-container">
    <div class="slider" id="slider">
      <div class="character"><img src="images/img1-removebg-preview.png" alt="Character 1"></div>
      <div class="character"><img src="images/img2-removebg-preview.png" alt="Character 2"></div>
      <div class="character"><img src="images/img3-removebg-preview.png" alt="Character 3"></div>
      <div class="character"><img src="images/img4-removebg-preview.png" alt="Character 4"></div>
    </div>
    <div class="indicator" id="indicator"></div>
  </div>

  <script>
    const slider = document.getElementById("slider");
    const indicator = document.getElementById("indicator");
    const slides = document.querySelectorAll(".character");
    let currentIndex = 0;
    let startX = 0;
    let isDragging = false;

    // Create dots
    slides.forEach((_, i) => {
      const dot = document.createElement("div");
      dot.classList.add("dot");
      if (i === 0) dot.classList.add("active");
      indicator.appendChild(dot);
    });

    const dots = document.querySelectorAll(".dot");

    function updateSlider() {
      // move slider
      slider.style.transform = `translateX(-${currentIndex * 100}%)`;

      // update dots
      dots.forEach(dot => dot.classList.remove("active"));
      dots[currentIndex].classList.add("active");

      // update 3D effect
      slides.forEach((slide, i) => {
        slide.classList.remove("active");
        slide.style.transform = "scale(0.8) rotateY(0deg)";
        slide.style.opacity = "0.5";

        if (i === currentIndex) {
          slide.classList.add("active");
        } else if (i < currentIndex) {
          slide.style.transform = "scale(0.8) rotateY(-40deg)";
        } else if (i > currentIndex) {
          slide.style.transform = "scale(0.8) rotateY(40deg)";
        }
      });
    }

    // Swipe / Drag
    slider.addEventListener("touchstart", e => {
      startX = e.touches[0].clientX;
      isDragging = true;
    });

    slider.addEventListener("touchend", e => {
      isDragging = false;
      let endX = e.changedTouches[0].clientX;
      if (startX - endX > 50 && currentIndex < slides.length - 1) {
        currentIndex++;
      } else if (endX - startX > 50 && currentIndex > 0) {
        currentIndex--;
      }
      updateSlider();
    });

    // Mouse drag (desktop)
    slider.addEventListener("mousedown", e => {
      startX = e.clientX;
      isDragging = true;
    });

    slider.addEventListener("mouseup", e => {
      if (!isDragging) return;
      isDragging = false;
      let endX = e.clientX;
      if (startX - endX > 50 && currentIndex < slides.length - 1) {
        currentIndex++;
      } else if (endX - startX > 50 && currentIndex > 0) {
        currentIndex--;
      }
      updateSlider();
    });

    // Keyboard navigation
    document.addEventListener("keydown", e => {
      if (e.key === "ArrowRight" && currentIndex < slides.length - 1) {
        currentIndex++;
        updateSlider();
      } else if (e.key === "ArrowLeft" && currentIndex > 0) {
        currentIndex--;
        updateSlider();
      }
    });

    updateSlider();
  </script>
</body>
</html>
